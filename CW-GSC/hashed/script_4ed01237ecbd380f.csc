/***********************************************
 * Decompiled by Ate47 and Edited by SyndiShanX
 * Script: hashed\script_4ed01237ecbd380f.csc
***********************************************/

#using script_19f3d8b7a687a3f1;
#using scripts\autogenerated\luielems\sr_weapon_upgrade_menu;
#using scripts\core_common\clientfield_shared;
#using scripts\core_common\struct;
#using scripts\core_common\system_shared;
#using scripts\core_common\util_shared;
#namespace namespace_4b9fccd8;

function private autoexec __init__system__() {
  system::register(#"hash_794c3bb2e36b3278", &preinit, &postinit, undefined, undefined);
}

function preinit() {
  level.var_2457162c = sr_weapon_upgrade_menu::register();
  clientfield::register("scriptmover", "weapon_machine_fx", 1, 1, "int", &weapon_machine_fx, 0, 0);
  namespace_52c8f34d::preinit();
}

function postinit() {}

function weapon_machine_fx(localclientnum, oldval, newval, bnewent, binitialsnap, fieldname, bwastimejump) {
  if(bwastimejump) {
    self.weapon_machine_fx = function_239993de(fieldname, #"hash_6864f1ec3b2c7d2e", self, "sphere_jnt");
    return;
  }

  if(isDefined(self.weapon_machine_fx)) {
    stopfx(fieldname, self.weapon_machine_fx);
    self.weapon_machine_fx = undefined;
  }
}